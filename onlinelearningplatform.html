<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Learning Platform</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <!-- SweetAlert2 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <!-- Custom CSS -->
    <style>
        /* Custom Styles */
        body {
            font-family: 'Arial', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }

        .dark-mode {
            background-color: #121212;
            /* Deep black */
            color: #ffffff;
            /* White text */
        }

        .dark-mode h1,
        .dark-mode h2,
        .dark-mode h3,
        .dark-mode h4,
        .dark-mode h5,
        .dark-mode h6 {
            color: #ffffff;
            /* White headings */
        }

        .dark-mode .card,
        .dark-mode .table,
        .dark-mode .form-control,
        .dark-mode .bg-light {
            background-color: #1e1e1e;
            /* Dark grey */
            color: #ffffff;
            /* White text */
            border-color: #444;
            /* Darker border */
        }

        .dark-mode .form-control {
            background-color: #1e1e1e;
            /* Dark grey */
            color: #ffffff;
            /* White text */
            border-color: #444;
            /* Darker border */
        }

        .dark-mode .form-control::placeholder {
            color: #999;
            /* Light grey placeholder */
        }

        .dark-mode .navbar-dark,
        .dark-mode footer {
            background-color: #343a40 !important;
            /* Dark navbar and footer */
        }

        .dark-mode .btn-primary {
            background-color: #0d6efd;
            /* Bootstrap primary blue */
            border-color: #0d6efd;
        }

        .dark-mode .btn-danger {
            background-color: #dc3545;
            /* Bootstrap danger red */
            border-color: #dc3545;
        }

        .dark-mode .table th,
        .dark-mode .table td {
            border-color: #444;
            /* Darker borders for tables */
        }

        .hero-section {
            background: linear-gradient(135deg, #007bff, #00ff88);
            padding: 100px 0;
        }

        .animate__animated {
            animation-duration: 1s;
        }

        .course-card,
        .student-card,
        .enrolled-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .course-card:hover,
        .student-card:hover,
        .enrolled-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .btn-hover-effect:hover {
            transform: scale(1.05);
            transition: transform 0.2s ease;
        }

        footer {
            background: #343a40;
            padding: 20px 0;
        }

        .sticky-navbar {
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: none;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-section h1 {
                font-size: 2rem;
            }

            .hero-section p {
                font-size: 1rem;
            }

            .form-container {
                padding: 15px;
            }

            .card {
                margin-bottom: 15px;
            }

            .navbar-nav {
                text-align: center;
            }

            .navbar-nav .btn {
                margin-top: 10px;
            }
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-navbar">
        <div class="container">
            <a class="navbar-brand" href="#">Online Learning</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#courses">Courses</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#students">Students</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#enrolled-students">Enrolled Students</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#add-course">Add Course</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#add-student">Add Student</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#enroll-student">Enroll Student</a>
                    </li>
                    <li class="nav-item">
                        <button id="darkModeToggle" class="btn btn-secondary ms-2 btn-hover-effect">
                            <i class="bi bi-moon-stars"></i> <!-- Dark Mode Icon -->
                        </button>
                    </li>
                    <li class="nav-item">
                        <button id="logoutButton" class="btn btn-danger ms-2 btn-hover-effect" style="display: none;">
                            <i class="bi bi-box-arrow-right"></i> Logout
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Login/Signup Section -->
    <section id="auth-section" class="py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div id="auth-form">
                        <h2 class="text-center mb-4">Login / Signup</h2>
                        <form id="loginForm">
                            <div class="mb-3">
                                <input type="email" class="form-control" id="loginEmail" placeholder="Email" required>
                            </div>
                            <div class="mb-3">
                                <input type="password" class="form-control" id="loginPassword" placeholder="Password" required>
                            </div>
                            <button type="submit" class="btn btn-primary w-100 btn-hover-effect">Login</button>
                        </form>
                        <p class="text-center mt-3">Don't have an account? <a href="#" id="showSignup">Signup</a></p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div id="main-content" style="display: none;">
        <!-- Hero Section -->
        <section class="hero-section text-center py-5 bg-primary text-white">
            <div class="container">
                <h1 class="display-4 animate__animated animate__fadeIn">Welcome to Online Learning</h1>
                <p class="lead animate__animated animate__fadeInUp">Learn, Grow, and Succeed with our courses.</p>
            </div>
        </section>

        <!-- Add Course Section -->
        <section id="add-course" class="py-5">
            <div class="container">
                <h2 class="text-center mb-4 animate__animated animate__fadeIn">Add a New Course</h2>
                <div class="row justify-content-center">
                    <div class="col-md-6">
                        <form id="addCourseForm" class="animate__animated animate__fadeInUp">
                            <div class="mb-3">
                                <input type="number" class="form-control" id="courseId" placeholder="Course ID" required>
                            </div>
                            <div class="mb-3">
                                <input type="text" class="form-control" id="courseName" placeholder="Course Name" required>
                            </div>
                            <div class="mb-3">
                                <input type="text" class="form-control" id="courseDescription" placeholder="Course Description" required>
                            </div>
                            <div class="mb-3">
                                <input type="number" class="form-control" id="coursePrice" placeholder="Course Price" required>
                            </div>
                            <button type="submit" class="btn btn-primary w-100 btn-hover-effect">Add Course</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Add Student Section -->
        <section id="add-student" class="py-5 bg-light">
            <div class="container">
                <h2 class="text-center mb-4 animate__animated animate__fadeIn">Add a New Student</h2>
                <div class="row justify-content-center">
                    <div class="col-md-6">
                        <form id="addStudentForm" class="animate__animated animate__fadeInUp">
                            <div class="mb-3">
                                <input type="number" class="form-control" id="studentId" placeholder="Student ID" required>
                            </div>
                            <div class="mb-3">
                                <input type="text" class="form-control" id="studentName" placeholder="Student Name" required>
                            </div>
                            <div class="mb-3">
                                <input type="email" class="form-control" id="studentEmail" placeholder="Student Email" required>
                            </div>
                            <button type="submit" class="btn btn-primary w-100 btn-hover-effect">Add Student</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Enroll Student in Course Section -->
        <section id="enroll-student" class="py-5">
            <div class="container">
                <h2 class="text-center mb-4 animate__animated animate__fadeIn">Enroll Student in Course</h2>
                <div class="row justify-content-center">
                    <div class="col-md-6">
                        <form id="enrollStudentForm" class="animate__animated animate__fadeInUp">
                            <div class="mb-3">
                                <input type="number" class="form-control" id="enrollStudentId" placeholder="Student ID" required>
                            </div>
                            <div class="mb-3">
                                <input type="number" class="form-control" id="enrollCourseId" placeholder="Course ID" required>
                            </div>
                            <button type="submit" class="btn btn-primary w-100 btn-hover-effect">Enroll Student</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Search Bar -->
        <section class="py-3 bg-light">
            <div class="container">
                <input type="text" id="searchInput" placeholder="Search courses, students, or enrolled students..." class="form-control">
            </div>
        </section>

        <!-- Courses Section -->
        <section id="courses" class="py-5">
            <div class="container">
                <h2 class="text-center mb-4 animate__animated animate__fadeIn">Available Courses</h2>
                <div class="row" id="coursesList">
                    <!-- Courses will be dynamically added here -->
                </div>
            </div>
        </section>

        <!-- Students Section -->
        <section id="students" class="py-5 bg-light">
            <div class="container">
                <h2 class="text-center mb-4 animate__animated animate__fadeIn">Registered Students</h2>
                <div class="row" id="studentsList">
                    <!-- Students will be dynamically added here -->
                </div>
            </div>
        </section>

        <!-- Enrolled Students Section -->
        <section id="enrolled-students" class="py-5">
            <div class="container">
                <h2 class="text-center mb-4 animate__animated animate__fadeIn">Enrolled Students</h2>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Student ID</th>
                                <th>Student Name</th>
                                <th>Student Email</th>
                                <th>Course ID</th>
                                <th>Course Name</th>
                                <th>Course Price</th>
                            </tr>
                        </thead>
                        <tbody id="enrolledStudentsList">
                            <!-- Enrolled students will be dynamically added here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-3">
        <p>&copy; 2023 Online Learning Platform. All rights reserved.</p>
    </footer>

    <!-- Back to Top Button -->
    <button class="btn btn-primary back-to-top btn-hover-effect" onclick="scrollToTop()">â†‘</button>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Firebase Authentication -->
    <script type="module" defer>
        // Import the functions you need from the Firebase SDKs
        import {
            initializeApp
        } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-app.js";
        import {
            getAnalytics
        } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-analytics.js";
        import {
            getAuth,
            signInWithEmailAndPassword,
            createUserWithEmailAndPassword,
            signOut,
            onAuthStateChanged
        } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-auth.js";

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyAdpoI6ylpHlg-SU2s13xLTXeTpFzeMDCQ",
            authDomain: "online-learning-platform1.firebaseapp.com",
            projectId: "online-learning-platform1",
            storageBucket: "online-learning-platform1.firebasestorage.app",
            messagingSenderId: "575852252383",
            appId: "1:575852252383:web:b31c658930c4b320d62d6a",
            measurementId: "G-MBXBVC89S9"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);

        // Login Function
        document.getElementById("loginForm")?.addEventListener("submit", (e) => {
            e.preventDefault();
            const email = document.getElementById("loginEmail").value;
            const password = document.getElementById("loginPassword").value;

            signInWithEmailAndPassword(auth, "jaswanthmemories@gmail.com", "jashu7896")
                .then((userCredential) => {
                    console.log("User logged in:", userCredential.user);
                    document.getElementById("auth-section").style.display = "none";
                    document.getElementById("main-content").style.display = "block";
                    document.getElementById("logoutButton").style.display = "block";
                })
                .catch((error) => {
                    console.error("Login error:", error.message);
                });
        });

        // Signup Function
        document.getElementById("signupForm")?.addEventListener("submit", (e) => {
            e.preventDefault();
            const email = document.getElementById("signupEmail").value;
            const password = document.getElementById("signupPassword").value;

            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    console.log("User signed up:", userCredential.user);
                    Swal.fire({
                        icon: 'success',
                        title: 'Signup Successful',
                        text: 'You can now login with your credentials.',
                    });
                    window.location.reload();
                })
                .catch((error) => {
                    console.error("Signup error:", error.message);
                });
        });

        // Logout Function
        document.getElementById("logoutButton")?.addEventListener("click", () => {
            signOut(auth)
                .then(() => {
                    console.log("User logged out");
                    document.getElementById("auth-section").style.display = "block";
                    document.getElementById("main-content").style.display = "none";
                    document.getElementById("logoutButton").style.display = "none";
                })
                .catch((error) => {
                    console.error("Logout error:", error.message);
                });
        });

        // Check Auth State
        onAuthStateChanged(auth, (user) => {
            if (user) {
                console.log("User is logged in:", user.email);
                document.getElementById("auth-section").style.display = "none";
                document.getElementById("main-content").style.display = "block";
                document.getElementById("logoutButton").style.display = "block";
            } else {
                console.log("User is logged out");
                document.getElementById("auth-section").style.display = "block";
                document.getElementById("main-content").style.display = "none";
                document.getElementById("logoutButton").style.display = "none";
            }
        });
    </script>
    <!-- Custom JS -->
    <script>
        const baseUrl = "http://127.0.0.1:5000"; // Backend URL

        // Dark Mode Toggle
        const darkModeToggle = document.getElementById("darkModeToggle");
        darkModeToggle.addEventListener("click", () => {
            document.body.classList.toggle("dark-mode");
            const icon = darkModeToggle.querySelector("i");
            if (document.body.classList.contains("dark-mode")) {
                icon.classList.remove("bi-moon-stars");
                icon.classList.add("bi-sun");
            } else {
                icon.classList.remove("bi-sun");
                icon.classList.add("bi-moon-stars");
            }
        });

        // Back to Top Button
        window.onscroll = function() {
            const backToTopButton = document.querySelector(".back-to-top");
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                backToTopButton.style.display = "block";
            } else {
                backToTopButton.style.display = "none";
            }
        };

        function scrollToTop() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }

        // Search Functionality
        document.getElementById("searchInput").addEventListener("input", function() {
            const searchTerm = this.value.toLowerCase();
            filterCourses(searchTerm);
            filterStudents(searchTerm);
            filterEnrolledStudents(searchTerm);
        });

        function filterCourses(searchTerm) {
            const courses = document.querySelectorAll(".course-card");
            courses.forEach(course => {
                const courseName = course.querySelector(".card-title").textContent.toLowerCase();
                if (courseName.includes(searchTerm)) {
                    course.style.display = "block";
                } else {
                    course.style.display = "none";
                }
            });
        }

        function filterStudents(searchTerm) {
            const students = document.querySelectorAll(".student-card");
            students.forEach(student => {
                const studentName = student.querySelector(".card-title").textContent.toLowerCase();
                if (studentName.includes(searchTerm)) {
                    student.style.display = "block";
                } else {
                    student.style.display = "none";
                }
            });
        }

        function filterEnrolledStudents(searchTerm) {
            const enrolledStudents = document.querySelectorAll("#enrolledStudentsList tr");
            enrolledStudents.forEach(student => {
                const studentName = student.textContent.toLowerCase();
                if (studentName.includes(searchTerm)) {
                    student.style.display = "table-row";
                } else {
                    student.style.display = "none";
                }
            });
        }

        // Add Course
        document.getElementById("addCourseForm").addEventListener("submit", async function(e) {
            e.preventDefault();
            const courseId = document.getElementById("courseId").value;
            const courseName = document.getElementById("courseName").value;
            const courseDescription = document.getElementById("courseDescription").value;
            const coursePrice = document.getElementById("coursePrice").value;

            try {
                const response = await fetch(`${baseUrl}/add_course`, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        courseId,
                        name: courseName,
                        description: courseDescription,
                        price: coursePrice
                    }),
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }

                const data = await response.json();
                Swal.fire({
                    icon: 'success',
                    title: 'Course Added!',
                    text: 'The course has been added successfully.',
                });
                document.getElementById("addCourseForm").reset();
                fetchCourses();
            } catch (error) {
                console.error("Fetch error:", error);
                Swal.fire({
                    icon: 'error',
                    title: 'Error',
                    text: 'Failed to add course. Check the console for details.',
                });
            }
        });

        // Add Student
        document.getElementById("addStudentForm").addEventListener("submit", async function(e) {
            e.preventDefault();
            const studentId = document.getElementById("studentId").value;
            const studentName = document.getElementById("studentName").value;
            const studentEmail = document.getElementById("studentEmail").value;

            try {
                const response = await fetch(`${baseUrl}/add_student`, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        studentId,
                        name: studentName,
                        email: studentEmail
                    }),
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }

                const data = await response.json();
                Swal.fire({
                    icon: 'success',
                    title: 'Student Added!',
                    text: 'The student has been added successfully.',
                });
                document.getElementById("addStudentForm").reset();
                fetchStudents();
            } catch (error) {
                console.error("Fetch error:", error);
                Swal.fire({
                    icon: 'error',
                    title: 'Error',
                    text: 'Failed to add student. Check the console for details.',
                });
            }
        });

        // Enroll Student in Course
        document.getElementById("enrollStudentForm").addEventListener("submit", async function(e) {
            e.preventDefault();
            const studentId = document.getElementById("enrollStudentId").value;
            const courseId = document.getElementById("enrollCourseId").value;

            try {
                const response = await fetch(`${baseUrl}/enroll_student`, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        studentId,
                        courseId
                    }),
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }

                const data = await response.json();
                Swal.fire({
                    icon: 'success',
                    title: 'Student Enrolled!',
                    text: 'The student has been enrolled successfully.',
                });
                document.getElementById("enrollStudentForm").reset();
                fetchEnrolledStudents();
            } catch (error) {
                console.error("Fetch error:", error);
                Swal.fire({
                    icon: 'error',
                    title: 'Error',
                    text: 'Failed to enroll student. Check the console for details.',
                });
            }
        });

        // Fetch and Display Courses
        async function fetchCourses() {
            try {
                const response = await fetch(`${baseUrl}/get_courses`);
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }

                const courses = await response.json();
                const coursesList = document.getElementById("coursesList");
                coursesList.innerHTML = "";

                courses.forEach(course => {
                    const col = document.createElement("div");
                    col.className = "col-md-4 mb-4 animate__animated animate__fadeIn";
                    col.innerHTML = `
                        <div class="card course-card">
                            <div class="card-body">
                                <h5 class="card-title">${course.name} (ID: ${course.courseId})</h5>
                                <p class="card-text">${course.description}</p>
                                <p class="card-text"><strong>Price:</strong> $${course.price}</p>
                                <button class="btn btn-danger btn-sm btn-hover-effect" onclick="deleteCourse(${course.courseId})">Delete</button>
                            </div>
                        </div>
                    `;
                    coursesList.appendChild(col);
                });
            } catch (error) {
                console.error("Fetch error:", error);
                Swal.fire({
                    icon: 'error',
                    title: 'Error',
                    text: 'Failed to fetch courses. Check the console for details.',
                });
            }
        }

        // Fetch and Display Students
        async function fetchStudents() {
            try {
                const response = await fetch(`${baseUrl}/get_students`);
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }

                const students = await response.json();
                const studentsList = document.getElementById("studentsList");
                studentsList.innerHTML = "";

                students.forEach(student => {
                    const col = document.createElement("div");
                    col.className = "col-md-4 mb-4 animate__animated animate__fadeIn";
                    col.innerHTML = `
                        <div class="card student-card">
                            <div class="card-body">
                                <h5 class="card-title">${student.name} (ID: ${student.studentId})</h5>
                                <p class="card-text">${student.email}</p>
                                <button class="btn btn-danger btn-sm btn-hover-effect" onclick="deleteStudent(${student.studentId})">Delete</button>
                            </div>
                        </div>
                    `;
                    studentsList.appendChild(col);
                });
            } catch (error) {
                console.error("Fetch error:", error);
                Swal.fire({
                    icon: 'error',
                    title: 'Error',
                    text: 'Failed to fetch students. Check the console for details.',
                });
            }
        }

        // Fetch and Display Enrolled Students
        async function fetchEnrolledStudents() {
            try {
                const response = await fetch(`${baseUrl}/get_enrolled_students`);
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }

                const enrolledStudents = await response.json();
                const enrolledStudentsList = document.getElementById("enrolledStudentsList");
                enrolledStudentsList.innerHTML = "";

                enrolledStudents.forEach(enrollment => {
                    const row = document.createElement("tr");
                    row.innerHTML = `
                        <td>${enrollment.studentId}</td>
                        <td>${enrollment.studentName}</td>
                        <td>${enrollment.studentEmail}</td>
                        <td>${enrollment.courseId}</td>
                        <td>${enrollment.courseName}</td>
                        <td>$${enrollment.coursePrice}</td>
                    `;
                    enrolledStudentsList.appendChild(row);
                });
            } catch (error) {
                console.error("Fetch error:", error);
                Swal.fire({
                    icon: 'error',
                    title: 'Error',
                    text: 'Failed to fetch enrolled students. Check the console for details.',
                });
            }
        }

        // Delete Course
        async function deleteCourse(courseId) {
            try {
                const response = await fetch(`${baseUrl}/delete_course/${courseId}`, {
                    method: "DELETE",
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }

                const data = await response.json();
                Swal.fire({
                    icon: 'success',
                    title: 'Course Deleted!',
                    text: 'The course has been deleted successfully.',
                });
                fetchCourses();
            } catch (error) {
                console.error("Fetch error:", error);
                Swal.fire({
                    icon: 'error',
                    title: 'Error',
                    text: 'Failed to delete course. Check the console for details.',
                });
            }
        }

        // Delete Student
        async function deleteStudent(studentId) {
            try {
                const response = await fetch(`${baseUrl}/delete_student/${studentId}`, {
                    method: "DELETE",
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }

                const data = await response.json();
                Swal.fire({
                    icon: 'success',
                    title: 'Student Deleted!',
                    text: 'The student has been deleted successfully.',
                });
                fetchStudents();
            } catch (error) {
                console.error("Fetch error:", error);
                Swal.fire({
                    icon: 'error',
                    title: 'Error',
                    text: 'Failed to delete student. Check the console for details.',
                });
            }
        }

        // Initial fetch on page load
        document.addEventListener("DOMContentLoaded", function() {
            fetchCourses();
            fetchStudents();
            fetchEnrolledStudents();
        });
    </script>
</body>

</html>
